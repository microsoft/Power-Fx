#SETUP: RegEx,disable:PowerFxV1CompatibilityRules

// \u{...} notation not supported by .net
// will be blocked in V1 by the regular expression checker (for now) with a compile time error
// when V1 is disabled, runtime error on .NET because it doesn't support it in the interpreter
>> IsMatch( "a", "\u{0061}" )
Error({Kind:ErrorKind.BadRegex})

>> IsMatch( "a", "\u{1F47B}" )
Error({Kind:ErrorKind.BadRegex})

// leading zeros are fine
>> IsMatch( "a", "\u{00000000000000061}" )
Error({Kind:ErrorKind.BadRegex})

// spaces are not
>> IsMatch( "a", "\u{ 00000000000000061}" )
#DISABLE.NET:70
Errors: Error 14-38: Invalid regular expression.|Error 0-7: The function 'IsMatch' has some invalid arguments.

>> IsMatch( "a", "\u{00000000000000061 }" )
#DISABLE.NET:70
Errors: Error 14-38: Invalid regular expression.|Error 0-7: The function 'IsMatch' has some invalid arguments.

// checking the error message if the \u{...} is in the context of another error
#DISABLE.NET:70
>> IsMatch( "a", "\u{0061}[z-a]" )
Errors: Error 14-29: Invalid regular expression.|Error 0-7: The function 'IsMatch' has some invalid arguments.

// \u{...} replaced with surrogate pairs
#DISABLE.NET:70
>> IsMatch( "a", "\u{010ff41}[z-a]" )
Errors: Error 14-32: Invalid regular expression.|Error 0-7: The function 'IsMatch' has some invalid arguments.

// out of range and illegal
#DISABLE.NET:70
>> IsMatch( "a", "\u{014ff41}[z-a]" )
Errors: Error 14-32: Invalid regular expression.|Error 0-7: The function 'IsMatch' has some invalid arguments.
